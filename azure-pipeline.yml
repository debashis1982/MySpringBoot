pool:
  vmImage: 'Ubuntu 16.04'
variables:
  dockerId: '$(dockerId)'
  registryServerName: '$(registryName).azurecr.io'
  imageName: '$(projectName)'
  # define 4 more variables: tenantId, registryName, registryLogin and registryPassword in the build pipeline in UI
steps:
- script: mvn install
- script: docker build -t $(registryServerName)/$(imageName):$(build.buildId) .  # add options to this command to meet your needs
